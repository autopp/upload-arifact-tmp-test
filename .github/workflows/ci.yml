name: CI

on: [push]

jobs:
  upload-from-tmp:
    strategy:
      matrix:
        os: [ubuntu-latest, macos-latest, windows-latest]
    runs-on: ${{ matrix.os }}
    steps:
    - name: Make Artifact
      run: |
        echo Hello ${{ matrix.os }} > /tmp/hello-${{ matrix.os }}.txt
    - uses: actions/upload-artifact@v2
      with:
        name: hello-from-tmp-${{ matrix.os }}
        path: /tmp/hello-${{ matrix.os }}.txt
  upload-from-not-tmp:
    strategy:
      matrix:
        os: [ubuntu-latest, macos-latest, windows-latest]
    runs-on: ${{ matrix.os }}
    steps:
    - name: Make Artifact
      run: |
        mkdir /tmp/artifact
        echo Hello ${{ matrix.os }} > /tmp/artifact/hello-${{ matrix.os }}.txt
    - uses: actions/upload-artifact@v2
      with:
        name: hello-from-not-tmp-${{ matrix.os }}
        path: /tmp/artifact/hello-${{ matrix.os }}.txt

